ТЕСТОВОЕ ЗАДАНИЕ

НА ПОЗИЦИЮ

**Аналитик данных (middle)**

**Немного вводных...**

Представим, что вы делаете проект по анализу ассортимента и на
определённом этапе обнаруживаете, что вам важно:

а) Оперативно получать из аналитической базы данных **рецепты
продаваемых позиций.**

б) На основе этих рецептов предсказывать **изменение себестоимости
позиций** в зависимости от **изменения** **цен на сырьевые
составляющие.**

Особенность аналитической базы данных в том, что она не содержит в себе
таблицы рецептов напрямую. Но вы можете из неё выгрузить таблицу с
историей того, из каких ингредиентов повара каждодневно производили
позиции для «витрины», в каких объёмах эти составляющие были
использованы, и сколько стоила каждая из составляющих. Пример такой
таблицы представлен в файле ***data.xlsx.***

Исходник ***data.xlsx\**** является таблицей актов производства за
определённый период времени по одному из наших кафе и формируется по
логике взаимосвязей ***«Основной позиции»** с **«Подстрочниками, из
которых она произведена». ***Поля выглядят так:

***Дата*** -- дата производства позиции

***cdit_ID*** -- номер строки

***cdit_cdit_ID_Parent*** -- если *null*, то строка является **«основной
позицией»** (той, которую произвели); в противном случае строка является
**«подстрочником»**, а в эту графу вписана строка основной
(производимой) позиции.

***cdoc_ID*** -- номер документа (акта производства); в одном акте может
быть зафиксировано сразу несколько позиций

***pitm_Name*** -- название позиции

***meit_Name*** -- в чём измеряется объём

***cdit_Volume*** -- объём произведённой/использованной позиции

***cdit_Price*** -- себестоимость 1 единицы использованной позиции

**Ваша задача:**

**Первое:** написать код на Python, который на вход получает таблицу
**data.xlsx** и **контрольный файл**, в первом столбце которого
перечислены определённые составляющие, а во втором изменения их
стоимости в % (его нужно создать самостоятельно, изменения в %
случайные: представьте, что в следующем месяце, к примеру, ожидаем
подорожание лука на +10% или, ожидаем, что ингридиент 15 подешевеет на
-10%). В качестве результата код должен выдавать два эксель файла:

1.  Файл из 4 столбцов вида: (1) основная *позиция* -- (2) *средняя
    себестоимость 1 ед позиции до изменения стоимости составляющих
    -- (3) средняя себестоимость 1 ед позиции после изменения стоимости
    составляющих -- (4) изменение себестоимости позиции*

2.  Файл, где в столбик выписаны рецепты
    позиций с объёмами, входящих в них составляющих ***(только те
    позиции, у которых менялась себестоимость).*** Пример:

**Второе:**

1\. проанализируйте те составляющие, которые измеряются в килограммах:
какие из них обходятся компании дороже всего? Какие занимают самую
высокую долю в обороте?

2\. Какие позиции, идущие на продажу (cdit_cdit_ID_Parent = null)
являются самыми дорогими с точки зрения производства? Какие
изготавливаются в самых больших объёмах?

*Подкрепите свои выводы красиво оформленными таблицами и графиками.*

**Итог по двум заданиям:** код и файл с графиками и выводами формата
***.pptx или .pdf*** сложите в архив

*\*Датасет является тестовым: составляющие переименованы, объёмы
изменены и не совпадают с реальными*
